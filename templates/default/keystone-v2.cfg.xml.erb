<?xml version="1.0" encoding="UTF-8"?>

<keystone-v2 xmlns="http://docs.openrepose.org/repose/keystone-v2/v1.0">
    <identity-service username="<%= @identity_username %>" password="<%= @identity_password %>" uri="<%= @identity_uri %>" set-roles-in-header="<%= @identity_set_roles %>" set-groups-in-header="<%= @identity_set_catalog %>" set-catalog-in-header="<%= @identity_set_catalog %>" />
    <white-list>
        <uri-regex><%= @whitelist_uri_regex %></uri-regex>
    </white-list>
    <tenant-handling>
        <validate-tenant>
            <uri-extraction-regex><%= @tenant_uri_extraction_regex %></uri-extraction-regex>
        </validate-tenant>
    </tenant-handling>
    <pre-authorized-roles>
        <role><%= @preauthorized_service_admin_role %></role>
    </pre-authorized-roles>
    <cache>
        <timeouts variability="<%= @token_timeout_variability %>">
            <token><%= @token_timeout %></token>
        </timeouts>
    </cache>
</keystone-v2>
